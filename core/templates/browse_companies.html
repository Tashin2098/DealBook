{% extends "investor_base.html" %}
{% block title %}Browse Companies{% endblock %}
{% block content %}
<h1 style="font-weight:700;">Browse Companies</h1>
<form method="GET">
    <input type="text" name="q" placeholder="Search company/name/email"
           style="width:400px; padding:9px; font-size:1.1rem; border-radius:9px; border:1.2px solid #e3e7ef; margin:20px 0 24px 0;">
    <button type="submit" style="padding:9px 16px; border-radius:8px; border:none; background:#1a52a4; color:#fff;">Search</button>
</form>
<table style="width:100%; background:#fff; border-radius:15px; box-shadow:0 2px 10px #eaeef2;">
    <tr style="font-weight:600; color:#81849b;">
        <th style="padding:16px 10px;">Company</th>
        <th>Contact</th>
        <th>Save</th>
        <th>Details</th>
        <th>Invest</th>
    </tr>
    {% for startup in startups %}
    <tr style="border-top:1px solid #eee;">
        <td style="padding:16px 10px;">{{ startup.startup_name }}</td>
        <td>{{ startup.user.get_full_name }}<br>{{ startup.email }}</td>
        <td>
            {% if startup.id in saved %}
                <span style="color:green;">&#10003;</span>
            {% else %}
                <a href="{% url 'save_company' startup.id %}" title="Save">
                    <span style="font-size:1.2em;">&#9734;</span>
                </a>
            {% endif %}
        </td>
        <td>
            <a href="#" style="padding:4px 18px; border-radius:7px; background:#e7f1ff; color:#114288;">View</a>
        </td>
        <td>
            {% if startup.id in invested %}
                <span style="color:green;">Invested</span>
            {% else %}
                <a href="{% url 'invest_in_company' startup.id %}" style="padding:4px 18px; border-radius:7px; background:#d6ffd9; color:#0a691c;">Invest</a>
            {% endif %}
        </td>
    </tr>
    {% empty %}
    <tr><td colspan="5" style="padding:40px;text-align:center;">No companies found.</td></tr>
    {% endfor %}
</table>
{% endblock %}
